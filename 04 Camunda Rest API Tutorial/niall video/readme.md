# Camunda Rest API Tutorial

| Nr. | Topic | Activity | 	Time
|---:|---|---|---:|
|__1__|__Preparation__|	1. Go to the link: [videos](https://camunda.com/learn/videos/). <br> 2. Be sure that speakers work! 	|5|
|__2__|__Presentation__|We will continue with *Camunda Rest API Tutorial*. |5|
|__3__|__Topics, goals, and evaluations__| We are studying in the phase Process to Applications (P2A) of BPM. Remember another type of task navigating to *BPMN 2.0 Poster* (http://www.bpmb.de/images/BPMN2_0_Poster_ES.pdf). We will implement the a number of symbols. __Topics__: Interaction with the workflow application via REST. __Goals__: How to communicate with your deployed process via REST.
|__4__|__Camunda advanced topics__|1. Go to the fifth video “Camunda Rest API Tutorial” (20’).  <br> 2. __(50'')__ Open 'Camunda Modeler' and model following model
|__5__|__Model__|![model](https://github.com/sigifredolaengle/camunda-classes/blob/master/classes/5%20BPMN%20Deep%20Dive/niall%20video/podcast.png)||| 
|__6__|__Deploy the model__| 3. __(2'20'')__ Select the flow 'preussen munster' and select 'General --> Details --> Condition Type' `Expression`, then write in 'Expression' `#{teamName == 'preussen munster'}` (in the video is written with capital letter, mantain consistency with this!) <br> 4. __(2'58'')__ In the model select 'General --> Id' and write `WatchMunster` and in 'Name' `Watch Munster`. <br> 5. __(3'18'')__ Save the model with the name `Munster.bpmn`. <br> 6. __(3'42'')__ Download, install, and run getpostman. <br> 7. __(5'26'')__ Open https://docs.camunda.org and go to 'Reference --> Rest API --> Deployment --> Create' in 'Example' considerer 'POST/deployment/create'. <br> 8. __(6'40'')__ In Postman select 'POST' and write `localhost:8080/engine-rest/deployment/create`. Then in 'Headers' select 'Key' and select `Content-Type`. Next, in 'Value' select `multipart/form-data`. In the 'Body' section select 'Key' write `upload` and in 'File' upload the file `Munster.bpmn`. Finally, select 'SEND'. <br> 9. __(8'8'')__ Obtain result from 'POST' instruction and go to the 'Camunda Tomcat' with link http://localhost:8080/camunda-welcome/index.html . Select 'Cockpit' and in 'Process' we will see the process 'Watch Munster' deployed.
|__7__|__Start the process__| 10. __(9'51'')__ In the documentation 'Reference --> Rest Api -->  Process Definition'. Select 'Start Instance' and copy in 'Example' the  direction `/process-definition/key/aProcessDefinitionKey/start`. <br> 11. __(11'10'')__ Go to the 'Postman' and open a new tab. Select 'POST' and write `localhost:8080/engine-rest/process-definition/key/WatchMunster/start` (remember the name `WatchMunster` in step 4). Then in 'Headers --> Key' select 'Content-Type' with 'Value' `application/json`. In 'Body --> Raw' write `{}`. Finally, select 'SEND'. <br> 12. __(12'57'')__ In the 'Cockpit' refresh the page an we will obtain an instance in the process that you can see in 'Process --> (select the process 'Watch Munster') --> Process Instances' <br> 13. __(13'33'')__ Next go to 'Reference --> Rest Api --> Task --> Gest List' in 'Example' considerer `GET/task`.
|__8__|__Consult a task__| 14. __(14'43'')__ Go to 'Postman' and write in 'GET' `localhost:8080/engine-rest/task`, press 'SEND', and obtain a response. Then write `localhost:8080/engine-rest/task?processDdefinitionKey=WatchMunster`. Press 'SEND' and obtain a response. For the task 'pick a team' copy the variable "id".
|__9__|__Complete a task__| 15. __(16'12'')__ Then go to 'Reference --> Rest Api --> Task' and select 'Complete'. In 'Example' see the example. <br> 15. __(17'10'')__ In Postman section 'POST' write `localhost:8080/engine-rest/task`, then in 'Headers --> Key' select `Content-Type` and in 'Value' select `application/json`. In 'Body --> Raw' write: <br> `{"variables": { "teamName": {"value": "preussen munster"}}}`, click 'SEND' and obtain a response. <br> 16. __(18'27'')__ Copy the 'id' of the response and paste to the same 'SEND' by changing `localhost:8080/engine-rest/task/<id>/complete` . We will not obtain a response from Postman, but refreshing the 'Cokpit', we will see the instance in the task 'watch the game with sijo'.
||  ||75|